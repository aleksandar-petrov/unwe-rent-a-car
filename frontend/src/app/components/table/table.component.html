<ng-container *ngIf="rows.length > 0">
  <div
    *ngFor="let row of rows; let i = index"
    class="mx-auto mb-2 flex w-5/6 flex-col overflow-hidden rounded-3xl xl:hidden"
  >
    <div
      *ngFor="let value of row; let i = index; let last = last"
      [ngClass]="{ 'border-b': !last || shouldShowActions }"
      class="flex w-full items-stretch justify-between"
    >
      <div
        class="flex w-1/2 flex-col items-center border-r bg-rose-800/40 p-2 text-center"
      >
        <div class="my-auto text-white">{{ headers[i] }}</div>
      </div>
      <div class="flex w-1/2 flex-col items-center bg-white/50 p-2 text-center">
        <div class="my-auto text-gray-900">{{ value }}</div>
      </div>
    </div>
    <div
      *ngIf="shouldShowActions"
      class="flex w-full items-stretch justify-between"
    >
      <div
        class="flex w-1/2 flex-col items-center border-r bg-rose-800/40 p-2 text-center"
      >
        <div class="my-auto text-white">Actions</div>
      </div>
      <div class="flex w-1/2 flex-col items-center bg-white/50 p-2 text-center">
        <div
          class="my-auto flex w-full flex-nowrap justify-center gap-4 text-gray-900"
        >
          <button
            (click)="action.handler()"
            *ngFor="let action of actionRows[i]"
            class="text-md rounded-xl {{
              action.class
            }} px-4 py-2.5 leading-tight text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
          >
            <fa-icon [icon]="action.icon" size="lg"></fa-icon>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="flex hidden w-full flex-col xl:block">
    <div class="flex justify-center overflow-x-auto">
      <div class="inline-block py-2">
        <div class="overflow-hidden rounded-3xl">
          <table class="text-center">
            <thead class="border-b bg-rose-800/40">
              <tr>
                <th
                  *ngFor="let header of headers; let last = last"
                  [ngClass]="{ 'border-r': !last || shouldShowActions }"
                  class="p-2 text-white md:px-6 md:py-4"
                  scope="col"
                >
                  {{ header }}
                </th>
                <th
                  *ngIf="shouldShowActions"
                  class="p-2 text-white md:px-6 md:py-4"
                  scope="col"
                >
                  Actions
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let row of rows; let i = index" class="bg-white/50">
                <td
                  *ngFor="let value of row; let last = last"
                  [ngClass]="{ 'border-r': !last || shouldShowActions }"
                  class="whitespace-nowrap px-6 py-4 text-gray-900"
                >
                  {{ value }}
                </td>
                <td
                  *ngIf="shouldShowActions"
                  class="my-auto flex w-full justify-around gap-4 whitespace-nowrap px-2 pt-1 text-gray-900"
                >
                  <button
                    (click)="action.handler()"
                    *ngFor="let action of actionRows[i]"
                    class="text-md rounded-xl {{
                      action.class
                    }} px-4 py-2.5 leading-tight text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                  >
                    <fa-icon [icon]="action.icon" size="lg"></fa-icon>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</ng-container>
